zabbix_export:
  version: '6.4'
  template_groups:
    - uuid: 36bff6c29af64692839d077febfc7079
      name: 'Templates/Network devices'
  templates:
    - uuid: c3b8aef8c6d24ee493fc7f1d698cfc71
      template: 'Intelbras NVR SNMP'
      name: 'Intelbras NVR SNMP'
      description: |
        Intelbras NVR template.
        V4
        
        For Zabbix 5.4 and higher.
        
        By Diasdm
        https://github.com/diasdmhub/Intelbras_NVR_Zabbix_Template
      groups:
        - name: 'Templates/Network devices'
      items:
        - uuid: 9451b00c5db743db84baa9cfcdea31f9
          name: 'CPU Usage'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.1004849.2.1.3.0
          key: enterprises.cpuUsage
          delay: 3m
          history: 7d
          units: '%'
          description: 'Uso da CPU em percentual'
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: 5d2df2d2003b4dcf9583de1d37df9c1d
              expression: 'avg(/Intelbras NVR SNMP/enterprises.cpuUsage,#3)>90'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Intelbras NVR SNMP/enterprises.cpuUsage,#3)<90'
              name: 'CPU High Utilization'
              opdata: '{ITEM.LASTVALUE1}'
              priority: HIGH
        - uuid: a7e4eeab5e204d86aaef95bedc867aa1
          name: 'Device Status'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.1004849.2.1.2.8.0
          key: enterprises.deviceStatus
          delay: 3m
          history: 7d
          description: 'Status do dispositivo 0 (ruim) ou 1 (bom)'
          valuemap:
            name: 'NVR Device Status'
          tags:
            - tag: Device
              value: general
          triggers:
            - uuid: 2e9b93f0b584449d9a5c17cac3f14fe1
              expression: 'last(/Intelbras NVR SNMP/enterprises.deviceStatus)=0'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'last(/Intelbras NVR SNMP/enterprises.deviceStatus)=1'
              name: 'Device Status Changed'
              opdata: '{ITEM.LASTVALUE1}'
              priority: HIGH
              description: |
                Dispositivo com status divergente
                1 = Bom
                0 = Ruim
        - uuid: 0bf7b2d975fc44419f97e0008c5e5de2
          name: 'Device Type'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.1004849.2.1.2.6.0
          key: enterprises.deviceType
          delay: 3m
          history: 2d
          trends: '0'
          value_type: CHAR
          description: 'Tipo e modelo do dispositivo'
          inventory_link: TYPE
          tags:
            - tag: Device
              value: general
        - uuid: 26a925a7f30d4dd69b5b7da4998c0d15
          name: 'Uptime Enterprise'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.1004849.2.1.6.0
          key: enterprises.deviceUpTime
          delay: 10m
          history: 2w
          trends: '0'
          units: uptime
          description: 'UpTime desde a última reinicialização'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: 2010c085fc354774ad104913f2f073b2
              expression: 'last(/Intelbras NVR SNMP/enterprises.deviceUpTime)<10m'
              name: 'System has been restarted (uptime less 10m)'
              opdata: '{ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Uptime is less than 10 minutes'
              manual_close: 'YES'
              dependencies:
                - name: 'No SNMP data collection'
                  expression: 'max(/Intelbras NVR SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
        - uuid: c5245c9c006a4054b14beb7c7b091adb
          name: 'Device IP'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.1004849.2.2.2.8.0
          key: enterprises.ipAddr
          delay: 1h
          history: 2d
          trends: '0'
          value_type: CHAR
          description: 'IP Address'
          tags:
            - tag: Device
              value: general
          triggers:
            - uuid: 7d91eda4419147ad892b8cec56b707e7
              expression: 'last(/Intelbras NVR SNMP/enterprises.ipAddr,#1)<>last(/Intelbras NVR SNMP/enterprises.ipAddr,#2)'
              name: 'Device IP changed'
              opdata: 'IP: {ITEM.VALUE}'
              priority: WARNING
              description: 'Device IP changed'
              manual_close: 'YES'
        - uuid: 7325299946594f378a6335d7099371a8
          name: 'Memory Utilization'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.1004849.2.1.9.2.0
          key: enterprises.memoryUsage
          delay: 3m
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Uso da memória em percentual'
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: 126b8f21ad36457fbc20aa199bec26a6
              expression: 'avg(/Intelbras NVR SNMP/enterprises.memoryUsage,#3)>98'
              name: 'Memory High Utilization'
              opdata: '{ITEM.LASTVALUE1}'
              priority: HIGH
        - uuid: 0b41eaf4f4624b539402c4070c3a1020
          name: 'Device Serial Number'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.1004849.2.1.2.4.0
          key: enterprises.serialNumber
          delay: 1d
          history: 2d
          trends: '0'
          value_type: CHAR
          description: 'Número de série do dispositivo'
          inventory_link: SERIALNO_A
          tags:
            - tag: Device
              value: general
        - uuid: 9a217be202584a858c2857f64913f96e
          name: 'System Status'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.1004849.2.1.7.0
          key: enterprises.systemStatus
          delay: 3m
          history: 7d
          description: 'Status do sistema: online(0), offline(1), reboot(2)'
          valuemap:
            name: 'NVR System Status'
          tags:
            - tag: Device
              value: general
          triggers:
            - uuid: 7b27f2cbce1941f4842db349be14df7d
              expression: 'last(/Intelbras NVR SNMP/enterprises.systemStatus)=1'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'last(/Intelbras NVR SNMP/enterprises.systemStatus)=0'
              name: 'System Status Offline'
              opdata: '{ITEM.LASTVALUE1}'
              priority: DISASTER
              description: |
                0 - online
                1 - offline
                2- reboot
        - uuid: 2b4e8785ba8441afae57a848b09b566a
          name: 'System Time'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.1004849.2.1.8.0
          key: enterprises.systemTime
          delay: 3m
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            Horário do dispositivo
            (String) formato: YYYY/MM/DD HOUR:MIN:SEC. ex: 2014/10/13 10:32:31"
          tags:
            - tag: System
              value: status
        - uuid: 77f25d88e8554c6a83ca14f4e8285497
          name: 'Device System Version'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.1004849.2.1.2.5.0
          key: enterprises.systemVersion
          delay: 1d
          history: 2d
          trends: '0'
          value_type: CHAR
          description: 'Versão do sistema'
          inventory_link: SOFTWARE
          tags:
            - tag: Device
              value: general
          triggers:
            - uuid: 792c5acff95e4c12bc7b2844cc4e5d8e
              expression: 'last(/Intelbras NVR SNMP/enterprises.systemVersion,#1)<>last(/Intelbras NVR SNMP/enterprises.systemVersion,#2)'
              name: 'Device System Version changed'
              opdata: '{ITEM.VALUE}'
              priority: WARNING
              manual_close: 'YES'
        - uuid: 465aa59acfd14b37815b3aa22f3004c2
          name: 'NVR Performance Media'
          type: SIMPLE
          key: 'net.tcp.service.perf[tcp,,{$MEDIA_PORT}]'
          delay: 5m
          history: 1w
          value_type: FLOAT
          units: s
          description: 'Verificação do desempenho de Media do NVR.'
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: f2f3d2ede0d44cc491b77d99a33bca17
              expression: 'last(/Intelbras NVR SNMP/net.tcp.service.perf[tcp,,{$MEDIA_PORT}],#3)=0'
              name: 'Unavailable by Media Port'
              opdata: 'Port {$MEDIA_PORT}'
              priority: HIGH
              description: |
                Last value: {ITEM.LASTVALUE}.
                Last three attempts returned timeout.
                Check device connectivity.
        - uuid: 4acf9f67f76240c1a032e103826c53aa
          name: 'NVR Performance Web'
          type: SIMPLE
          key: 'net.tcp.service.perf[tcp,,{$WEB_PORT}]'
          delay: 5m
          history: 1w
          value_type: FLOAT
          units: s
          description: |
            NVR's Web interface performance check.
            Web Scenario already collects Web data.
            If necessary enable this item for TCP data collection.
            Verificação do desempenho HTTP da interface WEB do NVR.
            O Cenário Web já coleta dados Web.
            Se necessário habilite este item para coleta de dados TCP.
          tags:
            - tag: System
              value: status
        - uuid: f59250bbe20a47fbafc5b3f4fe208be7
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          history: 2w
          trends: '0'
          value_type: LOG
          description: 'Item is used to collect all SNMP traps unmatched by other snmptrap items'
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            - tag: System
              value: status
        - uuid: 9fdc05f7a808453cadd6090b49930a3a
          name: 'System contact details'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.4.0
          key: 'system.contact[sysContact.0]'
          delay: 1d
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: Device
              value: general
        - uuid: 1c3f4f8993ea407c8796ea299bd74c36
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.1.0
          key: 'system.descr[sysDescr.0]'
          delay: 1d
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should
            include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          inventory_link: NOTES
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: Device
              value: general
        - uuid: e861b80b0a91478886046b98e1c1b73a
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.6.0
          key: 'system.location[sysLocation.0]'
          delay: 1d
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The physical location of this node (e.g., `telephone closet, 3rd floor').  If the location is unknown, the value is the zero-length string.
          inventory_link: LOCATION
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          tags:
            - tag: Device
              value: general
        - uuid: 83fa01fe8049481f808e0dd9ca477422
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.5.0
          key: system.name
          delay: 1d
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name.  If the name is unknown, the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          tags:
            - tag: Device
              value: general
          triggers:
            - uuid: c6349c2779c94046abf8fdc996d7ff79
              expression: '(last(/Intelbras NVR SNMP/system.name,#1)<>last(/Intelbras NVR SNMP/system.name,#2))=1 and length(last(/Intelbras NVR SNMP/system.name))>0'
              name: 'System name has changed'
              opdata: 'New name: {ITEM.VALUE}'
              priority: INFO
              description: 'System name has changed. Ack to close.'
              manual_close: 'YES'
        - uuid: eba033190e72492d80dda3c44a95b72c
          name: 'System object ID'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.2.0
          key: 'system.objectid[sysObjectID.0]'
          delay: 1d
          history: 2d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The vendor's authoritative identification of the network management subsystem contained in the entity.  This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.
            **Might be invalid**
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          tags:
            - tag: Device
              value: general
        - uuid: 2877e152c6f94e408dff1805528864f3
          name: 'Uptime Generic'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.3.0
          key: 'system.uptime[sysUpTime.0]'
          delay: 10m
          history: 2w
          trends: '0'
          units: uptime
          description: |
            MIB: SNMPv2-MIB
            The time (in hundredths of a second) since the network management portion of the system was last re-initialized.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: System
              value: status
        - uuid: 9385027fca664ffe8bfab056ed9d681c
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          history: 7d
          trends: '0'
          valuemap:
            name: 'SNMP Availability'
          tags:
            - tag: System
              value: status
          triggers:
            - uuid: 402a97ff650c44a791c6eb60d33cc889
              expression: 'max(/Intelbras NVR SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'SNMP is not available for polling. Please check device connectivity and SNMP settings.'
      discovery_rules:
        - uuid: db9a014c00de49e086c51215efad802e
          name: 'Camera Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ICAM_IP}, 1.3.6.1.4.1.1004849.2.10.2.2.1.2, {#CAM_NAME}, 1.3.6.1.4.1.1004849.2.10.2.2.1.4, {#CAM_STATUS}, 1.3.6.1.4.1.1004849.2.10.2.2.1.3]'
          key: net.cam.discovery
          delay: 1h
          lifetime: 1d
          item_prototypes:
            - uuid: 0763a7279bde44c8bd467b2af73fe250
              name: 'Camera {#SNMPINDEX} IP'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.1004849.2.10.2.2.1.2.{#SNMPINDEX}'
              key: 'remoteCam[IpAddr{#SNMPINDEX}]'
              delay: 15m
              history: 2d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Camera
                  value: ip
            - uuid: 2bcbdfe288d34915ae6390b6349bcc05
              name: 'Camera {#SNMPINDEX} Name - {#CAM_NAME}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.1004849.2.10.2.2.1.4.{#SNMPINDEX}'
              key: 'remoteCam[name{#SNMPINDEX}]'
              delay: 15m
              history: 2d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Camera
                  value: name
            - uuid: 1fa48e4640f2410098eb1b62e0adbd94
              name: 'Camera {#SNMPINDEX} - {#CAM_NAME} - Status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.1004849.2.10.2.2.1.3.{#SNMPINDEX}'
              key: 'remoteCam[status{#SNMPINDEX}]'
              delay: 5m
              history: 2d
              trends: '0'
              value_type: CHAR
              description: 'The status of remote device (Connecting, Conneted, Unconnect, Empty, Disable).'
              tags:
                - tag: Camera
                  value: status
              trigger_prototypes:
                - uuid: 751f317495fb42e1927b45d10327385d
                  expression: 'last(/Intelbras NVR SNMP/remoteCam[status{#SNMPINDEX}],#1)="Unconnect"'
                  name: 'Camera {#SNMPINDEX} - {#CAM_NAME} disconnected'
                  opdata: '{#CAM_NAME} - {#CAM_STATUS}'
                  priority: WARNING
                - uuid: ae78fb381c9f425f927b4de25511fed6
                  expression: 'last(/Intelbras NVR SNMP/remoteCam[status{#SNMPINDEX}],#1)="Empty"'
                  name: 'Camera {#SNMPINDEX} absent'
                  opdata: '{#CAM_NAME} - {#CAM_STATUS}'
                  priority: WARNING
        - uuid: 57820de57a2a45fc869421d568968d33
          name: 'Network interfaces discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#IFOPERSTATUS},1.3.6.1.2.1.2.2.1.8,{#IFADMINSTATUS},1.3.6.1.2.1.2.2.1.7,{#IFNAME},1.3.6.1.2.1.2.2.1.2,{#IFDESCR},1.3.6.1.2.1.2.2.1.2,{#IFTYPE},1.3.6.1.2.1.2.2.1.3]'
          key: net.if.discovery
          delay: 1h
          filter:
            evaltype: AND
            conditions:
              - macro: '{#IFADMINSTATUS}'
                value: '{$NET.IF.IFADMINSTATUS.MATCHES}'
                formulaid: A
              - macro: '{#IFADMINSTATUS}'
                value: '{$NET.IF.IFADMINSTATUS.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#IFDESCR}'
                value: '{$NET.IF.IFDESCR.MATCHES}'
                formulaid: C
              - macro: '{#IFDESCR}'
                value: '{$NET.IF.IFDESCR.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: D
              - macro: '{#IFNAME}'
                value: '{$NET.IF.IFNAME.MATCHES}'
                formulaid: E
              - macro: '{#IFNAME}'
                value: '{$NET.IF.IFNAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: F
              - macro: '{#IFOPERSTATUS}'
                value: '{$NET.IF.IFOPERSTATUS.MATCHES}'
                formulaid: G
              - macro: '{#IFOPERSTATUS}'
                value: '{$NET.IF.IFOPERSTATUS.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: H
              - macro: '{#IFTYPE}'
                value: '{$NET.IF.IFTYPE.MATCHES}'
                formulaid: I
              - macro: '{#IFTYPE}'
                value: '{$NET.IF.IFTYPE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: J
          lifetime: 1d
          description: 'Discovering interfaces from IF-MIB.'
          item_prototypes:
            - uuid: 607f70fcbbf8402a971bee23dd1f6942
              name: 'Interface {#IFDESCR}: Inbound packets discarded'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.13.{#SNMPINDEX}'
              key: 'net.if.in.discards[ifInDiscards.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              description: |
                MIB: IF-MIB
                The number of inbound packets which were chosen to be discarded
                even though no errors had been detected to prevent their being deliverable to a higher-layer protocol.
                One possible reason for discarding such a packet could be to free up buffer space.
                Discontinuities in the value of this counter can occur at re-initialization of the management system,
                and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 7d89522e0cf44c868b55f008f6115461
              name: 'Interface {#IFDESCR}: Inbound packets with errors'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.14.{#SNMPINDEX}'
              key: 'net.if.in.errors[ifInErrors.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              description: |
                MIB: IF-MIB
                For packet-oriented interfaces, the number of inbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of inbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: fcb165497bfc43c2898ed54bdb45059f
              name: 'Interface {#IFDESCR}: Bits received'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.10.{#SNMPINDEX}'
              key: 'net.if.in[ifInOctets.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              units: bps
              description: |
                MIB: IF-MIB
                The total number of octets received on the interface,including framing characters. Discontinuities in the value of this counter can occur at re-initialization of the management system, and atother times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 22d60e0ae8874387ac280ff89955e0cc
              name: 'Interface {#IFDESCR}: Outbound packets discarded'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.19.{#SNMPINDEX}'
              key: 'net.if.out.discards[ifOutDiscards.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              description: |
                MIB: IF-MIB
                The number of outbound packets which were chosen to be discarded
                even though no errors had been detected to prevent their being deliverable to a higher-layer protocol.
                One possible reason for discarding such a packet could be to free up buffer space.
                Discontinuities in the value of this counter can occur at re-initialization of the management system,
                and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: dce829e613bf408b88cf4eb1ff5d50b4
              name: 'Interface {#IFDESCR}: Outbound packets with errors'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.20.{#SNMPINDEX}'
              key: 'net.if.out.errors[ifOutErrors.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              description: |
                MIB: IF-MIB
                For packet-oriented interfaces, the number of outbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of outbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: a3abfc9456364a319344f0f0bcbed4bb
              name: 'Interface {#IFDESCR}: Bits sent'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.16.{#SNMPINDEX}'
              key: 'net.if.out[ifOutOctets.{#SNMPINDEX}]'
              delay: 3m
              history: 7d
              units: bps
              description: |
                MIB: IF-MIB
                The total number of octets transmitted out of the interface, including framing characters. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 58ef821f83984e60b03d21a25c46bbc1
              name: 'Interface {#IFDESCR}: Speed'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.5.{#SNMPINDEX}'
              key: 'net.if.speed[ifSpeed.{#SNMPINDEX}]'
              delay: 5m
              history: 7d
              trends: 0d
              units: bps
              description: |
                MIB: IF-MIB
                An estimate of the interface's current bandwidth in bits per second.
                For interfaces which do not vary in bandwidth or for those where no accurate estimation can be made,
                this object should contain the nominal bandwidth.
                If the bandwidth of the interface is greater than the maximum value reportable by this object then
                this object should report its maximum value (4,294,967,295) and ifHighSpeed must be used to report the interface's speed.
                For a sub-layer which has no concept of bandwidth, this object should be zero.
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
            - uuid: 9e62f53c96334e37810408a53d3de8f8
              name: 'Interface {#IFDESCR}: Operational status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}'
              key: 'net.if.status[ifOperStatus.{#SNMPINDEX}]'
              history: 7d
              trends: '0'
              description: |
                MIB: IF-MIB
                The current operational state of the interface.
                - The testing(3) state indicates that no operational packet scan be passed
                - If ifAdminStatus is down(2) then ifOperStatus should be down(2)
                - If ifAdminStatus is changed to up(1) then ifOperStatus should change to up(1) if the interface is ready to transmit and receive network traffic
                - It should change todormant(5) if the interface is waiting for external actions (such as a serial line waiting for an incoming connection)
                - It should remain in the down(2) state if and only if there is a fault that prevents it from going to the up(1) state
                - It should remain in the notPresent(6) state if the interface has missing(typically, hardware) components.
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
              trigger_prototypes:
                - uuid: aed1afdfa9844ceeb7d26b7f19f27d99
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
                  name: 'Interface {#IFDESCR}: Link down'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: |
                    This trigger expression works as follows:
                    1. Can be triggered if operations status is down.
                    2. {$IFCONTROL:"{#IFNAME}"}=1 - user can redefine Context macro to value - 0. That marks this interface as not important. No new trigger will be fired if this interface is down.
                    3. {TEMPLATE_NAME:METRIC.diff()}=1) - trigger fires only if operational status was up(1) sometime before. (So, do not fire 'ethernal off' interfaces.)
                    
                    WARNING: if closed manually - won't fire again on next poll, because of .diff.
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 38239fa4059a49f3adb3aa04af3882c1
              name: 'Interface {#IFDESCR}: Interface type'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.3.{#SNMPINDEX}'
              key: 'net.if.type[ifType.{#SNMPINDEX}]'
              delay: 1h
              history: 7d
              trends: 0d
              description: |
                MIB: IF-MIB
                The type of interface.
                Additional values for ifType are assigned by the Internet Assigned Numbers Authority (IANA),
                through updating the syntax of the IANAifType textual convention.
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                - tag: component
                  value: network
                - tag: description
                  value: '{#IFALIAS}'
                - tag: interface
                  value: '{#IFNAME}'
          trigger_prototypes:
            - uuid: 3fb937539c28412e8d65d4262f45f866
              expression: |
                change(/Intelbras NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])<0 and last(/Intelbras NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])>0
                and (
                last(/Intelbras NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=6 or
                last(/Intelbras NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=7 or
                last(/Intelbras NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=11 or
                last(/Intelbras NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=62 or
                last(/Intelbras NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=69 or
                last(/Intelbras NVR SNMP/net.if.type[ifType.{#SNMPINDEX}])=117
                )
                and
                (last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2)
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                (change(/Intelbras NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])>0 and last(/Intelbras NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}],#2)>0) or
                (last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2)
              name: 'Interface {#IFDESCR}: Ethernet has changed to lower speed than it was before'
              opdata: 'Current reported speed: {ITEM.LASTVALUE1}'
              priority: INFO
              description: 'This Ethernet connection has transitioned down from its known maximum speed. This might be a sign of autonegotiation issues. Ack to close.'
              manual_close: 'YES'
              dependencies:
                - name: 'Interface {#IFDESCR}: Link down'
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_expression: 'last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                - tag: scope
                  value: performance
            - uuid: 1eb1852c8d90455a90c5428efb5f32b5
              expression: |
                (avg(/Intelbras NVR SNMP/net.if.in[ifInOctets.{#SNMPINDEX}],15m)>({$IF.UTIL.MAX:"{#IFNAME}"}/100)*last(/Intelbras NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}]) or
                avg(/Intelbras NVR SNMP/net.if.out[ifOutOctets.{#SNMPINDEX}],15m)>({$IF.UTIL.MAX:"{#IFNAME}"}/100)*last(/Intelbras NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])) and
                last(/Intelbras NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])>0
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                avg(/Intelbras NVR SNMP/net.if.in[ifInOctets.{#SNMPINDEX}],15m)<(({$IF.UTIL.MAX:"{#IFNAME}"}-3)/100)*last(/Intelbras NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}]) and
                avg(/Intelbras NVR SNMP/net.if.out[ifOutOctets.{#SNMPINDEX}],15m)<(({$IF.UTIL.MAX:"{#IFNAME}"}-3)/100)*last(/Intelbras NVR SNMP/net.if.speed[ifSpeed.{#SNMPINDEX}])
              name: 'Interface {#IFDESCR}: High bandwidth usage'
              event_name: 'Interface {#IFDESCR}: High bandwidth usage (>{$IF.UTIL.MAX:"{#IFNAME}"}%)'
              opdata: 'In: {ITEM.LASTVALUE1}, out: {ITEM.LASTVALUE3}, speed: {ITEM.LASTVALUE2}'
              priority: WARNING
              description: 'The network interface utilization is close to its estimated maximum bandwidth.'
              manual_close: 'YES'
              dependencies:
                - name: 'Interface {#IFDESCR}: Link down'
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_expression: 'last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                - tag: scope
                  value: performance
            - uuid: 4a342ec411e244ec90b92985934bbf84
              expression: |
                min(/Intelbras NVR SNMP/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"}
                or min(/Intelbras NVR SNMP/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"}
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                max(/Intelbras NVR SNMP/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)<{$IF.ERRORS.WARN:"{#IFNAME}"}*0.8
                and max(/Intelbras NVR SNMP/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)<{$IF.ERRORS.WARN:"{#IFNAME}"}*0.8
              name: 'Interface {#IFDESCR}: High error rate'
              event_name: 'Interface {#IFDESCR}: High error rate (>{$IF.ERRORS.WARN:"{#IFNAME}"} for 5m)'
              opdata: 'errors in: {ITEM.LASTVALUE1}, errors out: {ITEM.LASTVALUE2}'
              priority: WARNING
              description: 'Recovers when below 80% of {$IF.ERRORS.WARN:"{#IFNAME}"} threshold'
              manual_close: 'YES'
              dependencies:
                - name: 'Interface {#IFDESCR}: Link down'
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))'
                  recovery_expression: 'last(/Intelbras NVR SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0'
              tags:
                - tag: scope
                  value: performance
          graph_prototypes:
            - uuid: c11fbe1e1ff547089595d1d91e3b257e
              name: 'Interface {#IFDESCR}: Network traffic'
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 1A7C11
                  item:
                    host: 'Intelbras NVR SNMP'
                    key: 'net.if.in[ifInOctets.{#SNMPINDEX}]'
                - sortorder: '1'
                  drawtype: BOLD_LINE
                  color: 2774A4
                  item:
                    host: 'Intelbras NVR SNMP'
                    key: 'net.if.out[ifOutOctets.{#SNMPINDEX}]'
                - sortorder: '2'
                  color: F63100
                  yaxisside: RIGHT
                  item:
                    host: 'Intelbras NVR SNMP'
                    key: 'net.if.out.errors[ifOutErrors.{#SNMPINDEX}]'
                - sortorder: '3'
                  color: A54F10
                  yaxisside: RIGHT
                  item:
                    host: 'Intelbras NVR SNMP'
                    key: 'net.if.in.errors[ifInErrors.{#SNMPINDEX}]'
                - sortorder: '4'
                  color: FC6EA3
                  yaxisside: RIGHT
                  item:
                    host: 'Intelbras NVR SNMP'
                    key: 'net.if.out.discards[ifOutDiscards.{#SNMPINDEX}]'
                - sortorder: '5'
                  color: 6C59DC
                  yaxisside: RIGHT
                  item:
                    host: 'Intelbras NVR SNMP'
                    key: 'net.if.in.discards[ifInDiscards.{#SNMPINDEX}]'
        - uuid: 5ed49bd1ed5d4f5cb2acf00dd9536ab7
          name: 'Disk Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#DISK_NAME}, 1.3.6.1.4.1.1004849.2.4.1.1.4, {#DISK_STATUS}, 1.3.6.1.4.1.1004849.2.4.1.1.5, {#DISK_USED}, 1.3.6.1.4.1.1004849.2.4.1.1.6, {#DISK_SIZE}, 1.3.6.1.4.1.1004849.2.4.1.1.7]'
          key: vfs.disk.discovery
          delay: 1h
          lifetime: 1d
          description: 'Infomation of physical volume'
          item_prototypes:
            - uuid: d562009a815747ea84de42c97b2e86b5
              name: 'Disk {#SNMPINDEX} Percent Free - {#DISK_NAME}'
              type: CALCULATED
              key: 'physicalVolume[free{#SNMPINDEX}]'
              delay: 5m
              history: 7d
              units: '%'
              params: |
                100 - (last(//physicalVolume[used{#SNMPINDEX}])
                * 100 /
                last(//physicalVolume[size{#SNMPINDEX}]))
              tags:
                - tag: Disk
                  value: used
              trigger_prototypes:
                - uuid: 6af35893d4774cb9bb43efb09ab3369a
                  expression: 'last(/Intelbras NVR SNMP/physicalVolume[free{#SNMPINDEX}],#1)<{$DISK_FREE_WARN}'
                  name: 'Disk {#DISK_NAME} free space is low'
                  opdata: '{ITEM.LASTVALUE} free'
                  priority: WARNING
            - uuid: 70d9dd5e4dbe4801b8d1862c2ad8c642
              name: 'Disk {#SNMPINDEX} Name - {#DISK_NAME}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.1004849.2.4.1.1.4.{#SNMPINDEX}'
              key: 'physicalVolume[name{#SNMPINDEX}]'
              delay: 1h
              history: 2d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Disk
                  value: name
            - uuid: a2af9406213f4664bf2e9e5513110636
              name: 'Disk {#SNMPINDEX} Size - {#DISK_NAME}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.1004849.2.4.1.1.7.{#SNMPINDEX}'
              key: 'physicalVolume[size{#SNMPINDEX}]'
              delay: 1h
              history: 1d
              trends: '0'
              units: '!MB'
              tags:
                - tag: Disk
                  value: size
            - uuid: feef0553ed5c4af4b9dc4509aba57011
              name: 'Disk {#SNMPINDEX} Status - {#DISK_NAME}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.1004849.2.4.1.1.5.{#SNMPINDEX}'
              key: 'physicalVolume[status{#SNMPINDEX}]'
              delay: 5m
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                - tag: Disk
                  value: status
              trigger_prototypes:
                - uuid: 6b9e0010048346688f1e35c1473889c5
                  expression: |
                    last(/Intelbras NVR SNMP/physicalVolume[status{#SNMPINDEX}],#1)<>"Running"
                    and
                    last(/Intelbras NVR SNMP/physicalVolume[status{#SNMPINDEX}],#1)<>"RaidSub"
                  name: 'Disk {#DISK_NAME} ERROR'
                  opdata: '{#DISK_STATUS}'
                  priority: HIGH
                  manual_close: 'YES'
                  tags:
                    - tag: Disk
                      value: error
            - uuid: a2a0a0deb020479bb09286311d041acd
              name: 'Disk {#SNMPINDEX} Used - {#DISK_NAME}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.1004849.2.4.1.1.6.{#SNMPINDEX}'
              key: 'physicalVolume[used{#SNMPINDEX}]'
              delay: 5m
              history: 7d
              units: '!MB'
              tags:
                - tag: Disk
                  value: used
          graph_prototypes:
            - uuid: 178890197d5744e08772cc625987e33f
              name: 'Disk Usage - {#DISK_NAME}'
              width: '500'
              height: '340'
              yaxismax: '0'
              show_work_period: 'NO'
              show_triggers: 'NO'
              type: PIE
              show_3d: 'YES'
              graph_items:
                - sortorder: '1'
                  color: FFAB91
                  calc_fnc: LAST
                  type: GRAPH_SUM
                  item:
                    host: 'Intelbras NVR SNMP'
                    key: 'physicalVolume[size{#SNMPINDEX}]'
                - sortorder: '2'
                  color: B71C1C
                  calc_fnc: LAST
                  item:
                    host: 'Intelbras NVR SNMP'
                    key: 'physicalVolume[used{#SNMPINDEX}]'
      httptests:
        - uuid: aeb5ce3095dc4a4c9e6452229901edb1
          name: 'NVR Web Performance'
          delay: 5m
          agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36'
          steps:
            - name: 'NVR Web Performance'
              url: '{$WEB_SERVICE}://{HOST.CONN}:{$HTTP_PORT}'
              follow_redirects: 'NO'
              retrieve_mode: BOTH
              timeout: 5s
              status_codes: '200'
          tags:
            - tag: NVR
              value: web
      macros:
        - macro: '{$API_PASS}'
          type: SECRET_TEXT
          description: 'Set your API password'
        - macro: '{$API_USER}'
          value: admin
          description: 'Set your API user'
        - macro: '{$DISK_FREE_WARN}'
          value: '0'
          description: 'Disk free percentage threshold'
        - macro: '{$IF.ERRORS.WARN}'
          value: '2'
        - macro: '{$IF.UTIL.MAX}'
          value: '95'
        - macro: '{$IFCONTROL}'
          value: '1'
        - macro: '{$MEDIA_PORT}'
          value: '37777'
          description: 'Media port for camera access'
        - macro: '{$NET.IF.IFADMINSTATUS.MATCHES}'
          value: '^.*'
          description: 'Ignore notPresent(6)'
        - macro: '{$NET.IF.IFADMINSTATUS.NOT_MATCHES}'
          value: ^2$
          description: 'Ignore down(2) administrative status'
        - macro: '{$NET.IF.IFDESCR.MATCHES}'
          value: '.*'
        - macro: '{$NET.IF.IFDESCR.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
        - macro: '{$NET.IF.IFNAME.MATCHES}'
          value: '^.*$'
        - macro: '{$NET.IF.IFNAME.NOT_MATCHES}'
          value: '(^Software Loopback Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9a-z]+$|docker[0-9]+|br-[a-z0-9]{12})'
          description: 'Filter out loopbacks, nulls, docker veth links and docker0 bridge by default'
        - macro: '{$NET.IF.IFOPERSTATUS.MATCHES}'
          value: '^.*$'
        - macro: '{$NET.IF.IFOPERSTATUS.NOT_MATCHES}'
          value: ^6$
          description: 'Ignore notPresent(6)'
        - macro: '{$NET.IF.IFTYPE.MATCHES}'
          value: '.*'
          description: 'Regex - Place the interface(s) names you wish to monitor'
        - macro: '{$NET.IF.IFTYPE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'SNMP timeout for trigger threshold'
        - macro: '{$WEB_PORT}'
          value: '80'
          description: 'HTTP port for WEB UI access, if set'
        - macro: '{$WEB_SERVICE}'
          value: HTTP
          description: 'Set your Web service (HTTP or HTTPS)'
      dashboards:
        - uuid: 08c540e81cb14b4f9bc1e38c1cc68ede
          name: 'NVR Dashboard'
          pages:
            - widgets:
                - type: graph
                  width: '12'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Intelbras NVR SNMP'
                        name: 'CPU Utilization'
                - type: graph
                  'y': '5'
                  width: '12'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Intelbras NVR SNMP'
                        name: 'Memory Utilization'
                - type: graph
                  'y': '10'
                  width: '12'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Intelbras NVR SNMP'
                        name: 'NVR Response Time'
                - type: item
                  name: 'NVR MODEL'
                  x: '12'
                  width: '4'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: '3E2723'
                    - type: INTEGER
                      name: decimal_size
                      value: '50'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Intelbras NVR SNMP'
                        key: enterprises.deviceType
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: INTEGER
                      name: units_size
                      value: '50'
                    - type: STRING
                      name: value_color
                      value: FFCCBC
                    - type: INTEGER
                      name: value_size
                      value: '50'
                - type: item
                  name: 'NVR STATUS'
                  x: '12'
                  'y': '2'
                  width: '4'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: '3E2723'
                    - type: INTEGER
                      name: decimal_size
                      value: '50'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Intelbras NVR SNMP'
                        key: enterprises.systemStatus
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: INTEGER
                      name: units_size
                      value: '30'
                    - type: STRING
                      name: value_color
                      value: FFCCBC
                    - type: INTEGER
                      name: value_size
                      value: '50'
                - type: graphprototype
                  x: '12'
                  'y': '4'
                  width: '12'
                  height: '5'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        host: 'Intelbras NVR SNMP'
                        name: 'Interface {#IFDESCR}: Network traffic'
                - type: graphprototype
                  x: '12'
                  'y': '9'
                  width: '12'
                  height: '5'
                  fields:
                    - type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        host: 'Intelbras NVR SNMP'
                        name: 'Disk Usage - {#DISK_NAME}'
                - type: item
                  name: 'NVR IP'
                  x: '16'
                  width: '4'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: '3E2723'
                    - type: INTEGER
                      name: decimal_size
                      value: '50'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Intelbras NVR SNMP'
                        key: enterprises.ipAddr
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: INTEGER
                      name: units_size
                      value: '30'
                    - type: STRING
                      name: value_color
                      value: FFCCBC
                    - type: INTEGER
                      name: value_size
                      value: '50'
                - type: item
                  name: 'NVR SNMP AVAILABILITY'
                  x: '16'
                  'y': '2'
                  width: '4'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: '3E2723'
                    - type: INTEGER
                      name: decimal_size
                      value: '50'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Intelbras NVR SNMP'
                        key: 'zabbix[host,snmp,available]'
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: INTEGER
                      name: units_size
                      value: '30'
                    - type: STRING
                      name: value_color
                      value: FFCCBC
                    - type: INTEGER
                      name: value_size
                      value: '50'
                - type: item
                  name: 'NVR VERSION'
                  x: '20'
                  width: '4'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: '3E2723'
                    - type: INTEGER
                      name: decimal_size
                      value: '40'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Intelbras NVR SNMP'
                        key: enterprises.systemVersion
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: INTEGER
                      name: units_size
                      value: '40'
                    - type: STRING
                      name: value_color
                      value: FFCCBC
                    - type: INTEGER
                      name: value_size
                      value: '40'
                - type: item
                  name: 'NVR SERIAL NUMBER'
                  x: '20'
                  'y': '2'
                  width: '4'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: '3E2723'
                    - type: INTEGER
                      name: decimal_size
                      value: '40'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Intelbras NVR SNMP'
                        key: enterprises.serialNumber
                    - type: INTEGER
                      name: show
                      value: '2'
                    - type: INTEGER
                      name: units_size
                      value: '40'
                    - type: STRING
                      name: value_color
                      value: FFCCBC
                    - type: INTEGER
                      name: value_size
                      value: '40'
      valuemaps:
        - uuid: a5af3687a2934e0b8d686d7cec7dd4ab
          name: 'IF-MIB::ifOperStatus'
          mappings:
            - value: '1'
              newvalue: up
            - value: '2'
              newvalue: down
            - value: '4'
              newvalue: unknown
            - value: '5'
              newvalue: dormant
            - value: '6'
              newvalue: notPresent
            - value: '7'
              newvalue: lowerLayerDown
        - uuid: 4e22cbad0d9146059d9fbf89714e6461
          name: 'IF-MIB::ifType'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: regular1822
            - value: '3'
              newvalue: hdh1822
            - value: '4'
              newvalue: ddnX25
            - value: '5'
              newvalue: rfc877x25
            - value: '6'
              newvalue: ethernetCsmacd
            - value: '7'
              newvalue: iso88023Csmacd
            - value: '8'
              newvalue: iso88024TokenBus
            - value: '9'
              newvalue: iso88025TokenRing
            - value: '10'
              newvalue: iso88026Man
            - value: '11'
              newvalue: starLan
            - value: '12'
              newvalue: proteon10Mbit
            - value: '13'
              newvalue: proteon80Mbit
            - value: '14'
              newvalue: hyperchannel
            - value: '15'
              newvalue: fddi
            - value: '16'
              newvalue: lapb
            - value: '17'
              newvalue: sdlc
            - value: '18'
              newvalue: ds1
            - value: '19'
              newvalue: e1
            - value: '20'
              newvalue: basicISDN
            - value: '21'
              newvalue: primaryISDN
            - value: '22'
              newvalue: propPointToPointSerial
            - value: '23'
              newvalue: ppp
            - value: '24'
              newvalue: softwareLoopback
            - value: '25'
              newvalue: eon
            - value: '26'
              newvalue: ethernet3Mbit
            - value: '27'
              newvalue: nsip
            - value: '28'
              newvalue: slip
            - value: '29'
              newvalue: ultra
            - value: '30'
              newvalue: ds3
            - value: '31'
              newvalue: sip
            - value: '32'
              newvalue: frameRelay
            - value: '33'
              newvalue: rs232
            - value: '34'
              newvalue: para
            - value: '35'
              newvalue: arcnet
            - value: '36'
              newvalue: arcnetPlus
            - value: '37'
              newvalue: atm
            - value: '38'
              newvalue: miox25
            - value: '39'
              newvalue: sonet
            - value: '40'
              newvalue: x25ple
            - value: '41'
              newvalue: iso88022llc
            - value: '42'
              newvalue: localTalk
            - value: '43'
              newvalue: smdsDxi
            - value: '44'
              newvalue: frameRelayService
            - value: '45'
              newvalue: v35
            - value: '46'
              newvalue: hssi
            - value: '47'
              newvalue: hippi
            - value: '48'
              newvalue: modem
            - value: '49'
              newvalue: aal5
            - value: '50'
              newvalue: sonetPath
            - value: '51'
              newvalue: sonetVT
            - value: '52'
              newvalue: smdsIcip
            - value: '53'
              newvalue: propVirtual
            - value: '54'
              newvalue: propMultiplexor
            - value: '55'
              newvalue: ieee80212
            - value: '56'
              newvalue: fibreChannel
            - value: '57'
              newvalue: hippiInterface
            - value: '58'
              newvalue: frameRelayInterconnect
            - value: '59'
              newvalue: aflane8023
            - value: '60'
              newvalue: aflane8025
            - value: '61'
              newvalue: cctEmul
            - value: '62'
              newvalue: fastEther
            - value: '63'
              newvalue: isdn
            - value: '64'
              newvalue: v11
            - value: '65'
              newvalue: v36
            - value: '66'
              newvalue: g703at64k
            - value: '67'
              newvalue: g703at2mb
            - value: '68'
              newvalue: qllc
            - value: '69'
              newvalue: fastEtherFX
            - value: '70'
              newvalue: channel
            - value: '71'
              newvalue: ieee80211
            - value: '72'
              newvalue: ibm370parChan
            - value: '73'
              newvalue: escon
            - value: '74'
              newvalue: dlsw
            - value: '75'
              newvalue: isdns
            - value: '76'
              newvalue: isdnu
            - value: '77'
              newvalue: lapd
            - value: '78'
              newvalue: ipSwitch
            - value: '79'
              newvalue: rsrb
            - value: '80'
              newvalue: atmLogical
            - value: '81'
              newvalue: ds0
            - value: '82'
              newvalue: ds0Bundle
            - value: '83'
              newvalue: bsc
            - value: '84'
              newvalue: async
            - value: '85'
              newvalue: cnr
            - value: '86'
              newvalue: iso88025Dtr
            - value: '87'
              newvalue: eplrs
            - value: '88'
              newvalue: arap
            - value: '89'
              newvalue: propCnls
            - value: '90'
              newvalue: hostPad
            - value: '91'
              newvalue: termPad
            - value: '92'
              newvalue: frameRelayMPI
            - value: '93'
              newvalue: x213
            - value: '94'
              newvalue: adsl
            - value: '95'
              newvalue: radsl
            - value: '96'
              newvalue: sdsl
            - value: '97'
              newvalue: vdsl
            - value: '98'
              newvalue: iso88025CRFPInt
            - value: '99'
              newvalue: myrinet
            - value: '100'
              newvalue: voiceEM
            - value: '101'
              newvalue: voiceFXO
            - value: '102'
              newvalue: voiceFXS
            - value: '103'
              newvalue: voiceEncap
            - value: '104'
              newvalue: voiceOverIp
            - value: '105'
              newvalue: atmDxi
            - value: '106'
              newvalue: atmFuni
            - value: '107'
              newvalue: atmIma
            - value: '108'
              newvalue: pppMultilinkBundle
            - value: '109'
              newvalue: ipOverCdlc
            - value: '110'
              newvalue: ipOverClaw
            - value: '111'
              newvalue: stackToStack
            - value: '112'
              newvalue: virtualIpAddress
            - value: '113'
              newvalue: mpc
            - value: '114'
              newvalue: ipOverAtm
            - value: '115'
              newvalue: iso88025Fiber
            - value: '116'
              newvalue: tdlc
            - value: '117'
              newvalue: gigabitEthernet
            - value: '118'
              newvalue: hdlc
            - value: '119'
              newvalue: lapf
            - value: '120'
              newvalue: v37
            - value: '121'
              newvalue: x25mlp
            - value: '122'
              newvalue: x25huntGroup
            - value: '123'
              newvalue: trasnpHdlc
            - value: '124'
              newvalue: interleave
            - value: '125'
              newvalue: fast
            - value: '126'
              newvalue: ip
            - value: '127'
              newvalue: docsCableMaclayer
            - value: '128'
              newvalue: docsCableDownstream
            - value: '129'
              newvalue: docsCableUpstream
            - value: '130'
              newvalue: a12MppSwitch
            - value: '131'
              newvalue: tunnel
            - value: '132'
              newvalue: coffee
            - value: '133'
              newvalue: ces
            - value: '134'
              newvalue: atmSubInterface
            - value: '135'
              newvalue: l2vlan
            - value: '136'
              newvalue: l3ipvlan
            - value: '137'
              newvalue: l3ipxvlan
            - value: '138'
              newvalue: digitalPowerline
            - value: '139'
              newvalue: mediaMailOverIp
            - value: '140'
              newvalue: dtm
            - value: '141'
              newvalue: dcn
            - value: '142'
              newvalue: ipForward
            - value: '143'
              newvalue: msdsl
            - value: '144'
              newvalue: ieee1394
            - value: '145'
              newvalue: if-gsn
            - value: '146'
              newvalue: dvbRccMacLayer
            - value: '147'
              newvalue: dvbRccDownstream
            - value: '148'
              newvalue: dvbRccUpstream
            - value: '149'
              newvalue: atmVirtual
            - value: '150'
              newvalue: mplsTunnel
            - value: '151'
              newvalue: srp
            - value: '152'
              newvalue: voiceOverAtm
            - value: '153'
              newvalue: voiceOverFrameRelay
            - value: '154'
              newvalue: idsl
            - value: '155'
              newvalue: compositeLink
            - value: '156'
              newvalue: ss7SigLink
            - value: '157'
              newvalue: propWirelessP2P
            - value: '158'
              newvalue: frForward
            - value: '159'
              newvalue: rfc1483
            - value: '160'
              newvalue: usb
            - value: '161'
              newvalue: ieee8023adLag
            - value: '162'
              newvalue: bgppolicyaccounting
            - value: '163'
              newvalue: frf16MfrBundle
            - value: '164'
              newvalue: h323Gatekeeper
            - value: '165'
              newvalue: h323Proxy
            - value: '166'
              newvalue: mpls
            - value: '167'
              newvalue: mfSigLink
            - value: '168'
              newvalue: hdsl2
            - value: '169'
              newvalue: shdsl
            - value: '170'
              newvalue: ds1FDL
            - value: '171'
              newvalue: pos
            - value: '172'
              newvalue: dvbAsiIn
            - value: '173'
              newvalue: dvbAsiOut
            - value: '174'
              newvalue: plc
            - value: '175'
              newvalue: nfas
            - value: '176'
              newvalue: tr008
            - value: '177'
              newvalue: gr303RDT
            - value: '178'
              newvalue: gr303IDT
            - value: '179'
              newvalue: isup
            - value: '180'
              newvalue: propDocsWirelessMaclayer
            - value: '181'
              newvalue: propDocsWirelessDownstream
            - value: '182'
              newvalue: propDocsWirelessUpstream
            - value: '183'
              newvalue: hiperlan2
            - value: '184'
              newvalue: propBWAp2Mp
            - value: '185'
              newvalue: sonetOverheadChannel
            - value: '186'
              newvalue: digitalWrapperOverheadChannel
            - value: '187'
              newvalue: aal2
            - value: '188'
              newvalue: radioMAC
            - value: '189'
              newvalue: atmRadio
            - value: '190'
              newvalue: imt
            - value: '191'
              newvalue: mvl
            - value: '192'
              newvalue: reachDSL
            - value: '193'
              newvalue: frDlciEndPt
            - value: '194'
              newvalue: atmVciEndPt
            - value: '195'
              newvalue: opticalChannel
            - value: '196'
              newvalue: opticalTransport
            - value: '197'
              newvalue: propAtm
            - value: '198'
              newvalue: voiceOverCable
            - value: '199'
              newvalue: infiniband
            - value: '200'
              newvalue: teLink
            - value: '201'
              newvalue: q2931
            - value: '202'
              newvalue: virtualTg
            - value: '203'
              newvalue: sipTg
            - value: '204'
              newvalue: sipSig
            - value: '205'
              newvalue: docsCableUpstreamChannel
            - value: '206'
              newvalue: econet
            - value: '207'
              newvalue: pon155
            - value: '208'
              newvalue: pon622
            - value: '209'
              newvalue: bridge
            - value: '210'
              newvalue: linegroup
            - value: '211'
              newvalue: voiceEMFGD
            - value: '212'
              newvalue: voiceFGDEANA
            - value: '213'
              newvalue: voiceDID
            - value: '214'
              newvalue: mpegTransport
            - value: '215'
              newvalue: sixToFour
            - value: '216'
              newvalue: gtp
            - value: '217'
              newvalue: pdnEtherLoop1
            - value: '218'
              newvalue: pdnEtherLoop2
            - value: '219'
              newvalue: opticalChannelGroup
            - value: '220'
              newvalue: homepna
            - value: '221'
              newvalue: gfp
            - value: '222'
              newvalue: ciscoISLvlan
            - value: '223'
              newvalue: actelisMetaLOOP
            - value: '224'
              newvalue: fcipLink
            - value: '225'
              newvalue: rpr
            - value: '226'
              newvalue: qam
            - value: '227'
              newvalue: lmp
            - value: '228'
              newvalue: cblVectaStar
            - value: '229'
              newvalue: docsCableMCmtsDownstream
            - value: '230'
              newvalue: adsl2
            - value: '231'
              newvalue: macSecControlledIF
            - value: '232'
              newvalue: macSecUncontrolledIF
            - value: '233'
              newvalue: aviciOpticalEther
            - value: '234'
              newvalue: atmbond
            - value: '235'
              newvalue: voiceFGDOS
            - value: '236'
              newvalue: mocaVersion1
            - value: '237'
              newvalue: ieee80216WMAN
            - value: '238'
              newvalue: adsl2plus
            - value: '239'
              newvalue: dvbRcsMacLayer
            - value: '240'
              newvalue: dvbTdm
            - value: '241'
              newvalue: dvbRcsTdma
            - value: '242'
              newvalue: x86Laps
            - value: '243'
              newvalue: wwanPP
            - value: '244'
              newvalue: wwanPP2
            - value: '245'
              newvalue: voiceEBS
            - value: '246'
              newvalue: ifPwType
            - value: '247'
              newvalue: ilan
            - value: '248'
              newvalue: pip
            - value: '249'
              newvalue: aluELP
            - value: '250'
              newvalue: gpon
            - value: '251'
              newvalue: vdsl2
            - value: '252'
              newvalue: capwapDot11Profile
            - value: '253'
              newvalue: capwapDot11Bss
            - value: '254'
              newvalue: capwapWtpVirtualRadio
            - value: '255'
              newvalue: bits
            - value: '256'
              newvalue: docsCableUpstreamRfPort
            - value: '257'
              newvalue: cableDownstreamRfPort
            - value: '258'
              newvalue: vmwareVirtualNic
            - value: '259'
              newvalue: ieee802154
            - value: '260'
              newvalue: otnOdu
            - value: '261'
              newvalue: otnOtu
            - value: '262'
              newvalue: ifVfiType
            - value: '263'
              newvalue: g9981
            - value: '264'
              newvalue: g9982
            - value: '265'
              newvalue: g9983
            - value: '266'
              newvalue: aluEpon
            - value: '267'
              newvalue: aluEponOnu
            - value: '268'
              newvalue: aluEponPhysicalUni
            - value: '269'
              newvalue: aluEponLogicalLink
            - value: '270'
              newvalue: aluGponOnu
            - value: '271'
              newvalue: aluGponPhysicalUni
            - value: '272'
              newvalue: vmwareNicTeam
            - value: '277'
              newvalue: docsOfdmDownstream
            - value: '278'
              newvalue: docsOfdmaUpstream
            - value: '279'
              newvalue: gfast
            - value: '280'
              newvalue: sdci
            - value: '281'
              newvalue: xboxWireless
            - value: '282'
              newvalue: fastdsl
            - value: '283'
              newvalue: docsCableScte55d1FwdOob
            - value: '284'
              newvalue: docsCableScte55d1RetOob
            - value: '285'
              newvalue: docsCableScte55d2DsOob
            - value: '286'
              newvalue: docsCableScte55d2UsOob
            - value: '287'
              newvalue: docsCableNdf
            - value: '288'
              newvalue: docsCableNdr
            - value: '289'
              newvalue: ptm
            - value: '290'
              newvalue: ghn
        - uuid: 159905aedeb5408cad459da9ae408701
          name: 'NVR Device Status'
          mappings:
            - value: '0'
              newvalue: Bad
            - value: '1'
              newvalue: Good
        - uuid: bc96ddf3a7c2411f8c4109a35b1cafcf
          name: 'NVR System Status'
          mappings:
            - value: '0'
              newvalue: Online
            - value: '1'
              newvalue: Offline
            - value: '2'
              newvalue: Reboot
        - uuid: 18fb1eb55c3c400fa4dc135cae6903a9
          name: 'SNMP Availability'
          mappings:
            - value: '1'
              newvalue: Available
            - value: '0'
              newvalue: Unavailable
  graphs:
    - uuid: 3355f947691d4cfca90351c998355b69
      name: 'CPU Utilization'
      ymin_type_1: FIXED
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Intelbras NVR SNMP'
            key: enterprises.cpuUsage
    - uuid: f3ec20f890af4f41830c213bf9fc8eb7
      name: 'Memory Utilization'
      ymin_type_1: FIXED
      ymax_type_1: FIXED
      graph_items:
        - drawtype: GRADIENT_LINE
          color: F63100
          item:
            host: 'Intelbras NVR SNMP'
            key: enterprises.memoryUsage
    - uuid: 881fa2b54a7b499e8c0c9a25ebf6e8ab
      name: 'NVR Response Time'
      ymin_type_1: FIXED
      graph_items:
        - drawtype: FILLED_REGION
          color: FFAB91
          item:
            host: 'Intelbras NVR SNMP'
            key: 'web.test.time[NVR Web Performance,NVR Web Performance,resp]'
        - sortorder: '2'
          drawtype: BOLD_LINE
          color: 8F2809
          item:
            host: 'Intelbras NVR SNMP'
            key: 'net.tcp.service.perf[tcp,,{$MEDIA_PORT}]'
